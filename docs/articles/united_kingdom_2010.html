<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>United Kingdom Input-Output Analytical Tables â€¢ iotables</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="United Kingdom Input-Output Analytical Tables">
<meta property="og:description" content="iotables">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">iotables</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.4.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/germany_1990.html">Germany 1990</a>
    </li>
    <li>
      <a href="../articles/united_kingdom_2010.html">United Kingdom Input-Output Analytical Tables</a>
    </li>
    <li>
      <a href="../articles/working_with_eurostat.html">Working With Eurostat Data</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/rOpenGov/iotables/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="united_kingdom_2010_files/header-attrs-2.9/header-attrs.js"></script><script src="united_kingdom_2010_files/kePrint-0.0.1/kePrint.js"></script><link href="united_kingdom_2010_files/lightable-0.0.1/lightable.css" rel="stylesheet">
<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>United Kingdom Input-Output Analytical Tables</h1>
                        <h4 class="author">Daniel Antal, based on the work edited by Richard Wild</h4>
            
            <h4 class="date">2021-08-02</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/rOpenGov/iotables/blob/master/vignettes/united_kingdom_2010.Rmd"><code>vignettes/united_kingdom_2010.Rmd</code></a></small>
      <div class="hidden name"><code>united_kingdom_2010.Rmd</code></div>

    </div>

    
    
<p>The <a href="https://webarchive.nationalarchives.gov.uk/20160114044923/http://www.ons.gov.uk/ons/rel/input-output/input-output-analytical-tables/2010/index.html">United Kingdom Input-Output Analytical Tables 2010</a> are used for testing the <code>iotables</code> package, because they are well-documented and detailed, organized data is available with them. The analytical tables are published in an Excel table. A special reader function (which is not exported) was created to read-in all sheets of the Excel table.</p>
<p>It is unlikely that these tables will be required by other purposes than controlling the package. The UK IO tables for other years are available these are consistent with different Blue Books and there could therefore be important methodological and classification changes. Furthermore, ONS currently publishes ESA2010 compatible SIOTs with analytical tables annually.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">uk_2010_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/iotables_download.html">iotables_download</a></span> <span class="op">(</span> source <span class="op">=</span> <span class="st">"uk_2010"</span> <span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/save.html">save</a></span> <span class="op">(</span> <span class="va">uk_2010_data</span>, file <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html">file.path</a></span><span class="op">(</span><span class="st">'data-raw'</span>, <span class="st">'uk_2010_data.rda'</span><span class="op">)</span><span class="op">)</span>
<span class="va">uk_test_results</span> <span class="op">&lt;-</span> <span class="fu">iotables</span><span class="fu">:::</span><span class="fu"><a href="../reference/uk_2010_results_get.html">uk_2010_results_get</a></span> <span class="op">(</span><span class="op">)</span>
<span class="co">#saved as package data</span></code></pre></div>
<p>For the actual symmetric input-output table (see ) you can use the download function originally designed for the Eurostat bulk downloader.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">uk_siot</span>              <span class="op">&lt;-</span> <span class="fu"><a href="../reference/iotable_get.html">iotable_get</a></span> <span class="op">(</span> 
                          labelled_io_data <span class="op">=</span> <span class="va">uk_2010_data</span>, 
                          source <span class="op">=</span> <span class="st">"uk_2010_siot"</span> <span class="op">)</span>
<span class="va">uk_published_coeff</span>   <span class="op">&lt;-</span> <span class="fu"><a href="../reference/iotable_get.html">iotable_get</a></span> <span class="op">(</span> 
                          labelled_io_data <span class="op">=</span> <span class="va">uk_2010_data</span>, 
                          source <span class="op">=</span> <span class="st">"uk_2010_siot"</span> <span class="op">)</span>
<span class="va">uk_published_inverse</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/iotable_get.html">iotable_get</a></span> <span class="op">(</span> 
                          labelled_io_data <span class="op">=</span> <span class="va">uk_2010_data</span>, 
                          source <span class="op">=</span> <span class="st">"uk_2010_siot"</span> <span class="op">)</span></code></pre></div>
<div id="matrix-of-coefficients" class="section level2">
<h2 class="hasAnchor">
<a href="#matrix-of-coefficients" class="anchor"></a>Matrix of Coefficients</h2>
<p>The matrix of coefficients is described on page 14-15 and the data can be found in the <em>Matrix of coefficients (product by product) sheet</em> of the Excel file.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">uk_input_coeff</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/input_coefficient_matrix_create.html">input_coefficient_matrix_create</a></span><span class="op">(</span> 
                      data_table <span class="op">=</span> <span class="va">uk_siot</span><span class="op">)</span>

<span class="va">uk_coeff_published</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span> <span class="op">(</span><span class="va">uk_input_coeff</span>, <span class="fl">1</span> <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">left_join</a></span> <span class="op">(</span> <span class="va">.</span>, 
              <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate_all.html">mutate_if</a></span><span class="op">(</span> <span class="fu"><a href="../reference/iotable_get.html">iotable_get</a></span> <span class="op">(</span> labelled_io_data <span class="op">=</span> <span class="va">uk_2010_data</span>, 
                               source <span class="op">=</span> <span class="st">"uk_2010_coeff"</span> <span class="op">)</span>, 
                            <span class="va">is.factor</span>, <span class="va">as.character</span><span class="op">)</span>, 
              by <span class="op">=</span> <span class="st">"prod_na"</span><span class="op">)</span>

<span class="fu">test_that</span><span class="op">(</span><span class="st">"correct data is returned"</span>, <span class="op">{</span>
  <span class="fu">expect_equal</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">uk_input_coeff</span><span class="op">[</span>,<span class="fl">2</span><span class="op">:</span><span class="fl">8</span><span class="op">]</span>, <span class="fl">8</span><span class="op">)</span>,
               <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">uk_coeff_published</span>  <span class="op">[</span>,<span class="fl">2</span><span class="op">:</span><span class="fl">8</span><span class="op">]</span>, <span class="fl">8</span><span class="op">)</span><span class="op">)</span> <span class="op">}</span><span class="op">)</span>
<span class="co">#&gt; Test passed</span></code></pre></div>
<p>Comparing the first 7 columns of the two coefficient matrixes at 8 decimal point precision they are equal. Given the size of the matrixes, not all the matrix is compared here, but such a comparison can be made. However, it is not necessary, because the latter results would show a deviation if parts of the matrix would be different.</p>
</div>
<div id="leontieff-inverse" class="section level2">
<h2 class="hasAnchor">
<a href="#leontieff-inverse" class="anchor"></a>Leontieff-inverse</h2>
<p>The Leontieff-inverse is described on pages 16-17 of the article. Again, comparing the first seven numerical columns at 8 digit precision we see that the re-calculated inverse and the published inverse is the same.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">uk_calculated_inverse</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/leontieff_inverse_create.html">leontieff_inverse_create</a></span><span class="op">(</span><span class="va">uk_input_coeff</span><span class="op">)</span>
<span class="va">uk_published_inverse</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span> <span class="op">(</span><span class="va">uk_calculated_inverse</span>, <span class="fl">1</span> <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">left_join</a></span> <span class="op">(</span> <span class="va">.</span>, <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate_all.html">mutate_if</a></span><span class="op">(</span> 
    <span class="fu"><a href="../reference/iotable_get.html">iotable_get</a></span> <span class="op">(</span> labelled_io_data <span class="op">=</span> <span class="va">uk_2010_data</span>, 
                               source <span class="op">=</span> <span class="st">"uk_2010_inverse"</span> <span class="op">)</span>,
                  <span class="va">is.factor</span>, <span class="va">as.character</span><span class="op">)</span>, 
              by <span class="op">=</span> <span class="st">"prod_na"</span><span class="op">)</span>

<span class="fu">test_that</span><span class="op">(</span><span class="st">"correct data is returned"</span>, <span class="op">{</span>
  <span class="fu">expect_equal</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">uk_calculated_inverse</span><span class="op">[</span>,<span class="fl">2</span><span class="op">:</span><span class="fl">8</span><span class="op">]</span>, <span class="fl">8</span><span class="op">)</span>,
               <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">uk_published_inverse</span>  <span class="op">[</span>,<span class="fl">2</span><span class="op">:</span><span class="fl">8</span><span class="op">]</span>, <span class="fl">8</span><span class="op">)</span><span class="op">)</span> <span class="op">}</span><span class="op">)</span>
<span class="co">#&gt; Test passed</span></code></pre></div>
</div>
<div id="employment-cost-effects" class="section level2">
<h2 class="hasAnchor">
<a href="#employment-cost-effects" class="anchor"></a>Employment cost effects</h2>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">employment_effect_results</span> <span class="op">&lt;-</span> <span class="va">uk_test_results</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span> <span class="op">(</span> <span class="va">uk_row_label</span>, <span class="va">`Employment cost effects`</span><span class="op">)</span>

<span class="va">primary_inputs_uk</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/coefficient_matrix_create.html">coefficient_matrix_create</a></span><span class="op">(</span>
    data_table  <span class="op">=</span> <span class="va">uk_siot</span>, 
    total       <span class="op">=</span> <span class="st">'output'</span>, 
    return_part <span class="op">=</span> <span class="st">'primary_inputs'</span><span class="op">)</span>

<span class="va">employment_input</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span> <span class="op">(</span><span class="va">primary_inputs_uk</span> , <span class="va">prod_na</span> <span class="op">==</span> <span class="st">"D1"</span><span class="op">)</span>

<span class="va">employment_effects</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/direct_effects_create.html">direct_effects_create</a></span><span class="op">(</span> <span class="va">employment_input</span>, <span class="va">uk_calculated_inverse</span> <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/gather.html">gather</a></span> <span class="op">(</span> <span class="va">prod</span>, <span class="va">values</span>, <span class="op">!</span><span class="op">!</span><span class="fl">2</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span> <span class="op">(</span> prod_na <span class="op">=</span> <span class="va">prod</span> <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span> <span class="op">(</span> <span class="op">-</span><span class="va">prod</span> <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">left_join</a></span> <span class="op">(</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span> <span class="op">(</span> <span class="va">metadata_uk_2010</span>, <span class="va">prod_na</span>, <span class="va">uk_row_label</span>  <span class="op">)</span>, 
              by <span class="op">=</span> <span class="st">'prod_na'</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">left_join</a></span> <span class="op">(</span> <span class="va">employment_effect_results</span>, by <span class="op">=</span> <span class="st">'uk_row_label'</span> <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span> <span class="op">(</span> <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">uk_row_label</span> <span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span> <span class="op">(</span> <span class="va">prod_na</span>, <span class="va">uk_row_label</span>, <span class="va">values</span>, <span class="va">`Employment cost effects`</span><span class="op">)</span>


<span class="fu">iotables</span><span class="fu">:::</span><span class="fu"><a href="../reference/create_knitr_table.html">create_knitr_table</a></span> <span class="op">(</span>
      data_table <span class="op">=</span>  <span class="va">employment_effects</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>,<span class="op">]</span>, 
      digits <span class="op">=</span> <span class="fl">4</span>,
      caption <span class="op">=</span> <span class="st">"Comparison of Calculated And Published Employment Cost Effects"</span>, 
      col.names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"industry code"</span>, <span class="st">"row label"</span>, <span class="st">"calculated"</span>, <span class="st">"published"</span><span class="op">)</span>, 
      col_width <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">11</span>,<span class="fl">3</span>,<span class="fl">3</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<table class="table table table-striped table-hover table-condensed">
<caption>
Comparison of Calculated And Published Employment Cost Effects
</caption>
<thead><tr>
<th style="text-align:left;">
industry code
</th>
<th style="text-align:center;">
row label
</th>
<th style="text-align:center;">
calculated
</th>
<th style="text-align:center;">
published
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_01
</td>
<td style="text-align:center;width: 11cm; ">
Products of agriculture, hunting and related services
</td>
<td style="text-align:center;width: 3cm; ">
0,3682
</td>
<td style="text-align:center;width: 3cm; ">
0,3682
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_02
</td>
<td style="text-align:center;width: 11cm; ">
Products of forestry, logging and related services
</td>
<td style="text-align:center;width: 3cm; ">
0,4683
</td>
<td style="text-align:center;width: 3cm; ">
0,4683
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_03
</td>
<td style="text-align:center;width: 11cm; ">
Fish and other fishing products; aquaculture products; support services to fishing
</td>
<td style="text-align:center;width: 3cm; ">
0,2234
</td>
<td style="text-align:center;width: 3cm; ">
0,2234
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_05
</td>
<td style="text-align:center;width: 11cm; ">
Coal and lignite
</td>
<td style="text-align:center;width: 3cm; ">
0,4644
</td>
<td style="text-align:center;width: 3cm; ">
0,4644
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_06-07
</td>
<td style="text-align:center;width: 11cm; ">
Crude petroleum and natural gas &amp; Metal ores
</td>
<td style="text-align:center;width: 3cm; ">
0,1657
</td>
<td style="text-align:center;width: 3cm; ">
0,1657
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_08
</td>
<td style="text-align:center;width: 11cm; ">
Other mining and quarrying products
</td>
<td style="text-align:center;width: 3cm; ">
0,4305
</td>
<td style="text-align:center;width: 3cm; ">
0,4305
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_09
</td>
<td style="text-align:center;width: 11cm; ">
Mining support services
</td>
<td style="text-align:center;width: 3cm; ">
0,1993
</td>
<td style="text-align:center;width: 3cm; ">
0,1993
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_10_1
</td>
<td style="text-align:center;width: 11cm; ">
Preserved meat and meat products
</td>
<td style="text-align:center;width: 3cm; ">
0,4776
</td>
<td style="text-align:center;width: 3cm; ">
0,4776
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_10_2-3
</td>
<td style="text-align:center;width: 11cm; ">
Processed and preserved fish, crustaceans, molluscs, fruit and vegetables
</td>
<td style="text-align:center;width: 3cm; ">
0,5301
</td>
<td style="text-align:center;width: 3cm; ">
0,5301
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_10_4
</td>
<td style="text-align:center;width: 11cm; ">
Vegetable and animal oils and fats
</td>
<td style="text-align:center;width: 3cm; ">
0,3786
</td>
<td style="text-align:center;width: 3cm; ">
0,3786
</td>
</tr>
</tbody>
</table>
<p>The comparison of output mulitipliers show that our code gives the same results. Only ten industries are shown.</p>
</div>
<div id="gva-effects" class="section level2">
<h2 class="hasAnchor">
<a href="#gva-effects" class="anchor"></a>GVA effects</h2>
<p>GVA is not shown in the Excel table explicitly, but can be calculated as the sum of corporate income (<em>Operating surplus and mixed income</em>), household income (<em>Compensation of employees</em>) and net taxes on production (not products.)</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">uk_siot2</span> <span class="op">&lt;-</span> <span class="va">uk_siot</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span> <span class="op">(</span>  <span class="va">prod_na</span> <span class="op">%in%</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"B2A3G"</span>, <span class="st">"D1"</span>, <span class="st">"D29X39"</span><span class="op">)</span> <span class="op">)</span>  <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise_all.html">summarize_if</a></span> <span class="op">(</span> <span class="va">is.numeric</span>, <span class="va">sum</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span> <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">cbind</a></span> <span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span> <span class="op">(</span> prod_na <span class="op">=</span> <span class="st">"GVA"</span><span class="op">)</span>, <span class="va">.</span> <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">rbind</a></span> <span class="op">(</span> <span class="va">uk_siot</span>, <span class="va">.</span><span class="op">)</span>

<span class="va">gva_effect_results</span> <span class="op">&lt;-</span> <span class="va">uk_test_results</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span> <span class="op">(</span> <span class="va">uk_row_label</span>, <span class="va">`GVA effects`</span><span class="op">)</span>

<span class="va">gva_input</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/coefficient_matrix_create.html">coefficient_matrix_create</a></span><span class="op">(</span>
   data_table  <span class="op">=</span> <span class="va">uk_siot2</span>, 
   total       <span class="op">=</span> <span class="st">'output'</span>, 
   return_part <span class="op">=</span> <span class="st">'primary_inputs'</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span> <span class="op">(</span> <span class="va">prod_na</span> <span class="op">==</span> <span class="st">"GVA"</span> <span class="op">)</span>

<span class="va">gva_effects</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/direct_effects_create.html">direct_effects_create</a></span><span class="op">(</span> <span class="va">gva_input</span>,
                                      <span class="va">uk_calculated_inverse</span> <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/gather.html">gather</a></span> <span class="op">(</span> <span class="va">prod</span>, <span class="va">values</span>, <span class="op">!</span><span class="op">!</span><span class="fl">2</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span> <span class="op">(</span> prod_na <span class="op">=</span> <span class="va">prod</span> <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span> <span class="op">(</span> <span class="op">-</span><span class="va">prod</span> <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">left_join</a></span> <span class="op">(</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span> <span class="op">(</span> <span class="va">metadata_uk_2010</span>, <span class="va">prod_na</span>, <span class="va">uk_row_label</span>  <span class="op">)</span>, 
              by <span class="op">=</span> <span class="st">'prod_na'</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">left_join</a></span> <span class="op">(</span> <span class="va">gva_effect_results</span>, by <span class="op">=</span> <span class="st">'uk_row_label'</span> <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span> <span class="op">(</span> <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">uk_row_label</span> <span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span> <span class="op">(</span> <span class="va">prod_na</span>, <span class="va">uk_row_label</span>, <span class="va">values</span>, <span class="va">`GVA effects`</span><span class="op">)</span>

<span class="fu">iotables</span><span class="fu">:::</span><span class="fu"><a href="../reference/create_knitr_table.html">create_knitr_table</a></span> <span class="op">(</span>
      data_table <span class="op">=</span>  <span class="va">gva_effects</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>,<span class="op">]</span>, 
      digits <span class="op">=</span> <span class="fl">4</span>,
      caption <span class="op">=</span> <span class="st">"Comparison of Calculated And Published GVA Effects"</span>, 
      col.names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"industry code"</span>, <span class="st">"row label"</span>, <span class="st">"calculated"</span>, <span class="st">"published"</span><span class="op">)</span>, 
      col_width <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">11</span>,<span class="fl">3</span>,<span class="fl">3</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<table class="table table table-striped table-hover table-condensed">
<caption>
Comparison of Calculated And Published GVA Effects
</caption>
<thead><tr>
<th style="text-align:left;">
industry code
</th>
<th style="text-align:center;">
row label
</th>
<th style="text-align:center;">
calculated
</th>
<th style="text-align:center;">
published
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_01
</td>
<td style="text-align:center;width: 11cm; ">
Products of agriculture, hunting and related services
</td>
<td style="text-align:center;width: 3cm; ">
0,6910
</td>
<td style="text-align:center;width: 3cm; ">
0,6910
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_02
</td>
<td style="text-align:center;width: 11cm; ">
Products of forestry, logging and related services
</td>
<td style="text-align:center;width: 3cm; ">
0,7472
</td>
<td style="text-align:center;width: 3cm; ">
0,7472
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_03
</td>
<td style="text-align:center;width: 11cm; ">
Fish and other fishing products; aquaculture products; support services to fishing
</td>
<td style="text-align:center;width: 3cm; ">
0,7076
</td>
<td style="text-align:center;width: 3cm; ">
0,7076
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_05
</td>
<td style="text-align:center;width: 11cm; ">
Coal and lignite
</td>
<td style="text-align:center;width: 3cm; ">
0,6631
</td>
<td style="text-align:center;width: 3cm; ">
0,6631
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_06-07
</td>
<td style="text-align:center;width: 11cm; ">
Crude petroleum and natural gas &amp; Metal ores
</td>
<td style="text-align:center;width: 3cm; ">
0,9048
</td>
<td style="text-align:center;width: 3cm; ">
0,9048
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_08
</td>
<td style="text-align:center;width: 11cm; ">
Other mining and quarrying products
</td>
<td style="text-align:center;width: 3cm; ">
0,7193
</td>
<td style="text-align:center;width: 3cm; ">
0,7193
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_09
</td>
<td style="text-align:center;width: 11cm; ">
Mining support services
</td>
<td style="text-align:center;width: 3cm; ">
0,8963
</td>
<td style="text-align:center;width: 3cm; ">
0,8963
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_10_1
</td>
<td style="text-align:center;width: 11cm; ">
Preserved meat and meat products
</td>
<td style="text-align:center;width: 3cm; ">
0,6751
</td>
<td style="text-align:center;width: 3cm; ">
0,6751
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_10_2-3
</td>
<td style="text-align:center;width: 11cm; ">
Processed and preserved fish, crustaceans, molluscs, fruit and vegetables
</td>
<td style="text-align:center;width: 3cm; ">
0,7251
</td>
<td style="text-align:center;width: 3cm; ">
0,7251
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_10_4
</td>
<td style="text-align:center;width: 11cm; ">
Vegetable and animal oils and fats
</td>
<td style="text-align:center;width: 3cm; ">
0,5628
</td>
<td style="text-align:center;width: 3cm; ">
0,5628
</td>
</tr>
</tbody>
</table>
</div>
<div id="employment-cost-multipliers" class="section level2">
<h2 class="hasAnchor">
<a href="#employment-cost-multipliers" class="anchor"></a>Employment cost multipliers</h2>
<p>Turning to multipliers, using the same inputs we get them back with the following code.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">empc_multiplier_results</span> <span class="op">&lt;-</span> <span class="va">uk_test_results</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span> <span class="op">(</span> <span class="va">uk_row_label</span>, <span class="va">`Employment cost multiplier`</span><span class="op">)</span>

<span class="va">empc_indicator_uk</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/coefficient_matrix_create.html">coefficient_matrix_create</a></span><span class="op">(</span>
   data_table  <span class="op">=</span> <span class="va">uk_siot</span>, 
   total       <span class="op">=</span> <span class="st">'output'</span>, 
   return_part <span class="op">=</span> <span class="st">'primary_inputs'</span><span class="op">)</span> <span class="op">%&gt;%</span>
   <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span> <span class="op">(</span> <span class="va">prod_na</span> <span class="op">==</span> <span class="st">'D1'</span><span class="op">)</span>

<span class="va">empc_multipliers</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/input_multipliers_create.html">input_multipliers_create</a></span><span class="op">(</span>
  input_requirements <span class="op">=</span> <span class="va">empc_indicator_uk</span>,
  <span class="va">uk_calculated_inverse</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/gather.html">gather</a></span> <span class="op">(</span> <span class="va">prod</span>, <span class="va">values</span>, <span class="op">!</span><span class="op">!</span><span class="fl">2</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span> <span class="op">(</span> prod_na <span class="op">=</span> <span class="va">prod</span> <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span> <span class="op">(</span> <span class="op">-</span><span class="va">prod</span> <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">left_join</a></span> <span class="op">(</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span> <span class="op">(</span> <span class="va">metadata_uk_2010</span>, <span class="va">prod_na</span>, <span class="va">uk_row_label</span> <span class="op">)</span>, 
              by <span class="op">=</span> <span class="st">'prod_na'</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">left_join</a></span> <span class="op">(</span> <span class="va">empc_multiplier_results</span>, by <span class="op">=</span> <span class="st">'uk_row_label'</span> <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span> <span class="op">(</span> <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">uk_row_label</span> <span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span> <span class="op">(</span> <span class="va">prod_na</span>, <span class="va">uk_row_label</span>, <span class="va">values</span>, <span class="va">`Employment cost multiplier`</span><span class="op">)</span>

<span class="fu">iotables</span><span class="fu">:::</span><span class="fu"><a href="../reference/create_knitr_table.html">create_knitr_table</a></span> <span class="op">(</span>
      data_table <span class="op">=</span>  <span class="va">empc_multipliers</span> <span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>,<span class="op">]</span>, digits <span class="op">=</span> <span class="fl">4</span>,
      caption <span class="op">=</span> <span class="st">"Comparison of Calculated And Published Employment Cost Multipliers"</span>, 
      col.names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"industry code"</span>, <span class="st">"row label"</span>, <span class="st">"calculated"</span>, <span class="st">"published"</span><span class="op">)</span>, 
      col_width <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">11</span>,<span class="fl">3</span>,<span class="fl">3</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<table class="table table table-striped table-hover table-condensed">
<caption>
Comparison of Calculated And Published Employment Cost Multipliers
</caption>
<thead><tr>
<th style="text-align:left;">
industry code
</th>
<th style="text-align:center;">
row label
</th>
<th style="text-align:center;">
calculated
</th>
<th style="text-align:center;">
published
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_01
</td>
<td style="text-align:center;width: 11cm; ">
Products of agriculture, hunting and related services
</td>
<td style="text-align:center;width: 3cm; ">
2,1111
</td>
<td style="text-align:center;width: 3cm; ">
2,1111
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_02
</td>
<td style="text-align:center;width: 11cm; ">
Products of forestry, logging and related services
</td>
<td style="text-align:center;width: 3cm; ">
2,3892
</td>
<td style="text-align:center;width: 3cm; ">
2,3892
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_03
</td>
<td style="text-align:center;width: 11cm; ">
Fish and other fishing products; aquaculture products; support services to fishing
</td>
<td style="text-align:center;width: 3cm; ">
2,7088
</td>
<td style="text-align:center;width: 3cm; ">
2,7088
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_05
</td>
<td style="text-align:center;width: 11cm; ">
Coal and lignite
</td>
<td style="text-align:center;width: 3cm; ">
1,6419
</td>
<td style="text-align:center;width: 3cm; ">
1,6419
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_06-07
</td>
<td style="text-align:center;width: 11cm; ">
Crude petroleum and natural gas &amp; Metal ores
</td>
<td style="text-align:center;width: 3cm; ">
2,2748
</td>
<td style="text-align:center;width: 3cm; ">
2,2748
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_08
</td>
<td style="text-align:center;width: 11cm; ">
Other mining and quarrying products
</td>
<td style="text-align:center;width: 3cm; ">
1,4642
</td>
<td style="text-align:center;width: 3cm; ">
1,4642
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_09
</td>
<td style="text-align:center;width: 11cm; ">
Mining support services
</td>
<td style="text-align:center;width: 3cm; ">
3,3424
</td>
<td style="text-align:center;width: 3cm; ">
3,3424
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_10_1
</td>
<td style="text-align:center;width: 11cm; ">
Preserved meat and meat products
</td>
<td style="text-align:center;width: 3cm; ">
2,4978
</td>
<td style="text-align:center;width: 3cm; ">
2,4978
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_10_2-3
</td>
<td style="text-align:center;width: 11cm; ">
Processed and preserved fish, crustaceans, molluscs, fruit and vegetables
</td>
<td style="text-align:center;width: 3cm; ">
1,8343
</td>
<td style="text-align:center;width: 3cm; ">
1,8343
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_10_4
</td>
<td style="text-align:center;width: 11cm; ">
Vegetable and animal oils and fats
</td>
<td style="text-align:center;width: 3cm; ">
1,6153
</td>
<td style="text-align:center;width: 3cm; ">
1,6153
</td>
</tr>
</tbody>
</table>
</div>
<div id="gva-multipliers" class="section level2">
<h2 class="hasAnchor">
<a href="#gva-multipliers" class="anchor"></a>GVA multipliers</h2>
<p>Following from the GVA effects, after summarizing GVA and adding it to the input requirements we can calculate the <code>GVA multipliers</code>.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">gva_multipliers</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/input_multipliers_create.html">input_multipliers_create</a></span><span class="op">(</span>
  input_requirements <span class="op">=</span> <span class="va">gva_input</span>,
                       <span class="va">uk_calculated_inverse</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/gather.html">gather</a></span> <span class="op">(</span> <span class="va">prod</span>, <span class="va">values</span>, <span class="op">!</span><span class="op">!</span><span class="fl">2</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span> <span class="op">(</span> prod_na <span class="op">=</span> <span class="va">prod</span> <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span> <span class="op">(</span> <span class="op">-</span><span class="va">prod</span> <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">left_join</a></span> <span class="op">(</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span> <span class="op">(</span> <span class="va">metadata_uk_2010</span>, <span class="va">prod_na</span>, <span class="va">uk_row_label</span>  <span class="op">)</span>, 
              by <span class="op">=</span> <span class="st">'prod_na'</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">left_join</a></span> <span class="op">(</span> <span class="va">gva_multiplier_results</span>, by <span class="op">=</span> <span class="st">'uk_row_label'</span> <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span> <span class="op">(</span> <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">uk_row_label</span> <span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span> <span class="op">(</span> <span class="va">prod_na</span>, <span class="va">uk_row_label</span>, <span class="va">values</span>, <span class="va">`GVA multiplier`</span><span class="op">)</span>

<span class="fu">iotables</span><span class="fu">:::</span><span class="fu"><a href="../reference/create_knitr_table.html">create_knitr_table</a></span> <span class="op">(</span>
  data_table <span class="op">=</span>  <span class="va">gva_multipliers</span> <span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>,<span class="op">]</span>, digits <span class="op">=</span> <span class="fl">4</span>,
  caption <span class="op">=</span> <span class="st">"Comparison of Calculated And Published GVA Multipliers"</span>, 
  col.names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"industry code"</span>, <span class="st">"row label"</span>, <span class="st">"calculated"</span>, <span class="st">"published"</span><span class="op">)</span>, 
  col_width <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">11</span>,<span class="fl">3</span>,<span class="fl">3</span><span class="op">)</span><span class="op">)</span>

<span class="fu">iotables</span><span class="fu">:::</span><span class="fu"><a href="../reference/create_knitr_table.html">create_knitr_table</a></span> <span class="op">(</span>
  data_table <span class="op">=</span>  <span class="va">gva_multipliers</span> <span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>,<span class="op">]</span>, 
  digits <span class="op">=</span> <span class="fl">4</span>,
  caption <span class="op">=</span> <span class="st">"Comparison of Calculated And Published GVA Multipliers"</span>, 
  col.names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"industry code"</span>, <span class="st">"row label"</span>, 
                <span class="st">"calculated"</span>, <span class="st">"published"</span><span class="op">)</span>, 
  col_width <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">11</span>,<span class="fl">3</span>,<span class="fl">3</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>##Output multipliers</p>
<p>At last, the comparison of output mulitipliers show that our code gives the same results. Only ten industries are shown.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">output_multiplier_results</span> <span class="op">&lt;-</span> <span class="va">uk_test_results</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span> <span class="op">(</span> <span class="va">uk_row_label</span>, <span class="va">`Output multiplier`</span><span class="op">)</span>

<span class="va">uk_output_multipliers</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/output_multiplier_create.html">output_multiplier_create</a></span><span class="op">(</span><span class="va">uk_input_coeff</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/gather.html">gather</a></span> <span class="op">(</span> <span class="va">prod</span>, <span class="va">values</span>, <span class="op">!</span><span class="op">!</span><span class="fl">2</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span> <span class="op">(</span> prod_na <span class="op">=</span> <span class="va">prod</span> <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span> <span class="op">(</span> <span class="op">-</span><span class="va">prod</span> <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">left_join</a></span> <span class="op">(</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span> <span class="op">(</span> <span class="va">metadata_uk_2010</span>, <span class="va">prod_na</span>, <span class="va">uk_row_label</span>  <span class="op">)</span>, 
              by <span class="op">=</span> <span class="st">'prod_na'</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">left_join</a></span> <span class="op">(</span> <span class="va">output_multiplier_results</span>, 
              by <span class="op">=</span> <span class="st">'uk_row_label'</span> <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span> <span class="op">(</span> <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">uk_row_label</span><span class="op">)</span> <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span> <span class="op">(</span> <span class="va">prod_na</span>, <span class="va">uk_row_label</span>, <span class="va">values</span>, <span class="va">`Output multiplier`</span><span class="op">)</span>

<span class="fu">iotables</span><span class="fu">:::</span><span class="fu"><a href="../reference/create_knitr_table.html">create_knitr_table</a></span> <span class="op">(</span>
      data_table <span class="op">=</span>  <span class="va">uk_output_multipliers</span> <span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>,<span class="op">]</span>, 
      digits <span class="op">=</span> <span class="fl">4</span>,
      caption <span class="op">=</span> <span class="st">"Comparison of Calculated And Published Output Multipliers"</span>, 
      col.names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"industry code"</span>, <span class="st">"row label"</span>,
                    <span class="st">"calculated"</span>, <span class="st">"published"</span><span class="op">)</span>, 
      col_width <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">11</span>,<span class="fl">3</span>,<span class="fl">3</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<table class="table table table-striped table-hover table-condensed">
<caption>
Comparison of Calculated And Published Output Multipliers
</caption>
<thead><tr>
<th style="text-align:left;">
industry code
</th>
<th style="text-align:center;">
row label
</th>
<th style="text-align:center;">
calculated
</th>
<th style="text-align:center;">
published
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_01
</td>
<td style="text-align:center;width: 11cm; ">
Products of agriculture, hunting and related services
</td>
<td style="text-align:center;width: 3cm; ">
1,8312
</td>
<td style="text-align:center;width: 3cm; ">
1,8312
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_02
</td>
<td style="text-align:center;width: 11cm; ">
Products of forestry, logging and related services
</td>
<td style="text-align:center;width: 3cm; ">
2,1187
</td>
<td style="text-align:center;width: 3cm; ">
2,1187
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_03
</td>
<td style="text-align:center;width: 11cm; ">
Fish and other fishing products; aquaculture products; support services to fishing
</td>
<td style="text-align:center;width: 3cm; ">
1,6284
</td>
<td style="text-align:center;width: 3cm; ">
1,6284
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_05
</td>
<td style="text-align:center;width: 11cm; ">
Coal and lignite
</td>
<td style="text-align:center;width: 3cm; ">
1,7891
</td>
<td style="text-align:center;width: 3cm; ">
1,7891
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_06-07
</td>
<td style="text-align:center;width: 11cm; ">
Crude petroleum and natural gas &amp; Metal ores
</td>
<td style="text-align:center;width: 3cm; ">
1,4155
</td>
<td style="text-align:center;width: 3cm; ">
1,4155
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_08
</td>
<td style="text-align:center;width: 11cm; ">
Other mining and quarrying products
</td>
<td style="text-align:center;width: 3cm; ">
1,5231
</td>
<td style="text-align:center;width: 3cm; ">
1,5231
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_09
</td>
<td style="text-align:center;width: 11cm; ">
Mining support services
</td>
<td style="text-align:center;width: 3cm; ">
1,5692
</td>
<td style="text-align:center;width: 3cm; ">
1,5692
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_10_1
</td>
<td style="text-align:center;width: 11cm; ">
Preserved meat and meat products
</td>
<td style="text-align:center;width: 3cm; ">
2,2693
</td>
<td style="text-align:center;width: 3cm; ">
2,2693
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_10_2-3
</td>
<td style="text-align:center;width: 11cm; ">
Processed and preserved fish, crustaceans, molluscs, fruit and vegetables
</td>
<td style="text-align:center;width: 3cm; ">
1,9499
</td>
<td style="text-align:center;width: 3cm; ">
1,9499
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; border-right:1px solid;">
CPA_10_4
</td>
<td style="text-align:center;width: 11cm; ">
Vegetable and animal oils and fats
</td>
<td style="text-align:center;width: 3cm; ">
1,6088
</td>
<td style="text-align:center;width: 3cm; ">
1,6088
</td>
</tr>
</tbody>
</table>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Daniel Antal.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
